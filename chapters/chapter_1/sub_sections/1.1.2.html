<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1.1.2 Decomposing Problems | T-Level Study Guide</title> {/* Updated Title */}
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Space+Grotesk:wght@300;400;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link href="../../../css/sub_sections.css" rel="stylesheet"> {/* Correct path */}
</head>
<body>
    <!-- Background Elements -->
    <div class="universe-background">
        <div class="stars"></div>
        <div class="particles"></div>
    </div>

    <div class="container-fluid chapter-container">
        <a href="../chapter1.html" class="back-btn">
            <i class="fas fa-arrow-left"></i> Back to Chapter 1
        </a>

        <div class="chapter-header">
            <h1 class="chapter-title">1.1.2 Decomposing Problems</h1> {/* Updated H1 */}
        </div>

        <!-- Introduction to Decomposition -->
        <div class="content-section">
            <h2 class="section-heading"><i class="fas fa-puzzle-piece"></i> What is Decomposition?</h2>
            <p><span class="key-term">Decomposition<span class="tooltip-box">Breaking down a complex problem or system into smaller, more manageable parts.</span></span> is a core technique used in computational thinking. It's about taking a large, complex problem and breaking it down into smaller, simpler sub-problems.</p>
            <p>Computational thinking relies on four key techniques, often called pillars:</p>
            <ul>
                <li><i class="fas fa-puzzle-piece me-2 text-primary"></i><strong>Decomposition:</strong> Breaking things down (what this section is about!).</li>
                <li><i class="fas fa-search me-2 text-info"></i><strong>Pattern Recognition:</strong> Finding similarities or trends.</li>
                <li><i class="fas fa-filter me-2 text-warning"></i><strong>Abstraction:</strong> Focusing on important details and ignoring irrelevant ones.</li>
                <li><i class="fas fa-list-ol me-2 text-success"></i><strong>Algorithms:</strong> Creating step-by-step instructions to solve problems.</li>
            </ul>
             <p>By breaking a problem down, each smaller part becomes easier to understand, manage, and eventually solve.</p>
        </div>

        <!-- Link to Top-Down Approach -->
        <div class="content-section">
            <h2 class="section-heading"><i class="fas fa-sitemap"></i> Decomposition and the Top-Down Approach</h2>
            <p>As discussed in section <a href="1.1.1.html" class="internal-link">1.1.1 Problem Solving Approaches</a>, the <span class="key-term">Top-Down<span class="tooltip-box">A problem-solving approach starting with the overall problem and breaking it down into smaller parts.</span></span> strategy heavily relies on decomposition.</p>
            <p>You start with the main problem and keep breaking it down into smaller tasks or <span class="key-term">modules<span class="tooltip-box">Self-contained units or components of a larger system, often resulting from decomposition.</span></span> until you can't break them down any further. Ideally, when decomposition is finished, each small piece (sub-problem) can be tackled independently.</p>
            <p>Once these individual modules are created (e.g., coded), they are combined (integrated) to form the solution to the original, larger problem.</p>
        </div>

        <!-- Advantages and Disadvantages -->
        <div class="content-section">
            <h2 class="section-heading"><i class="fas fa-balance-scale"></i> Pros and Cons of Decomposition</h2>
            <div class="row g-4">
                <!-- Advantages Column -->
                <div class="col-md-6 d-flex">
                    <div class="pros-cons-card w-100">
                        <h4 class="pros-title"><i class="fas fa-thumbs-up me-2"></i> Advantages</h4>
                        <ul>
                            <li><strong>Teamwork:**</strong> Different people or teams can work on separate modules simultaneously, speeding up development.</li>
                            <li><strong>Easier Maintenance:**</strong> If something goes wrong or needs updating, changes can often be made within a specific module without affecting the whole system.</li>
                            <li><strong>Manageability:**</strong> Complex problems become less overwhelming when broken into smaller, understandable parts.</li>
                            <li><strong>Reusability:**</strong> Well-defined modules can sometimes be reused in other projects.</li>
                        </ul>
                    </div>
                </div>
                <!-- Disadvantages Column -->
                <div class="col-md-6 d-flex">
                     <div class="pros-cons-card w-100">
                        <h4 class="cons-title"><i class="fas fa-thumbs-down me-2"></i> Disadvantages</h4>
                        <ul>
                            <li><strong>Integration Challenges:**</strong> The separate modules might not fit together correctly when combined if not planned carefully.</li>
                            <li><strong>Misunderstanding the Problem:**</strong> If the initial understanding of the overall problem is flawed, the decomposition might be incorrect or incomplete.</li>
                            <li><strong>Overhead:**</strong> Managing many small modules can sometimes introduce complexity in terms of communication and coordination.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Four Steps of Decomposition -->
        <div class="content-section">
            <h2 class="section-heading"><i class="fas fa-list-ol"></i> Four Steps of Decomposition (for Coding)</h2>
            <p>When breaking down a problem specifically to prepare for creating software, these four steps are generally followed:</p>
            <div class="steps-container">
                <div class="step-card">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h5>Identify and Describe Problems/Processes</h5>
                        <p>Clearly identify and describe the problem you're trying to solve. Use terminology relevant to the specific domain (e.g., use retail terms for a retail problem).</p>
                    </div>
                </div>
                <div class="step-card">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h5>Break Down into Separate Tasks</h5>
                        <p>Start decomposing the main problem into smaller tasks and subtasks, often using the top-down approach. Continue breaking down until tasks are simple and cannot be decomposed further. Ensure all tasks relate directly to the original problem.</p>
                    </div>
                </div>
                <div class="step-card">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h5>Describe Tasks and Subtasks</h5>
                        <p>Document the decomposed tasks clearly and concisely. This documentation should be good enough for someone else (like a developer) to understand and implement a solution for that specific task.</p>
                    </div>
                </div>
                 <div class="step-card">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <h5>Communicate</h5>
                        <p>Since software is often built by teams, clear communication about the decomposed tasks (<span class="key-term">modules<span class="tooltip-box">Self-contained units or components of a larger system, often assigned to different team members.</span></span>) is crucial. Each team member might take responsibility for specific modules, which are later combined ("bolted together") into the final solution.</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Activity Section -->
        <div class="content-section">
             <h2 class="section-heading"><i class="fas fa-map-signs"></i> Activity: Plan a Trip</h2>
             <div class="activity-card">
                 <h3 class="activity-title">Bletchley Park Trip Planning</h3>
                 <p><strong>Scenario:</strong> You need to plan a group trip to Bletchley Park for your class.</p>
                 <p><strong>Task:</strong> In small groups (3-4 people), use <span class="key-term">decomposition<span class="tooltip-box">Breaking down the complex task of planning a trip into smaller, manageable sub-tasks.</span></span> to break down the overall task of "Plan a trip to Bletchley Park" into smaller, manageable tasks and subtasks.</p>
                 <p><strong>Output:</strong> Create a digital communication (e.g., a document, presentation slides, mind map) showing your breakdown of all the necessary tasks and subtasks.</p>
                 <p><strong>Presentation & Reflection:</strong></p>
                 <ul>
                     <li>Present your plan to the class.</li>
                     <li>After presentations, discuss as a group: Was everything included to make the trip a success?</li>
                     <li>Identify any tasks or subtasks that might have been forgotten. What impact could missing these tasks have?</li>
                 </ul>
                 <div class="text-center mt-3">
                    <i class="fas fa-users fa-2x text-info"></i> <i class="fas fa-arrow-right fa-lg mx-2"></i> <i class="fas fa-clipboard-list fa-2x text-success"></i>
                    <p><small>Group Work leading to a Decomposed Plan</small></p>
                 </div>
             </div>
        </div>

        <!-- Content Section 4: Test Yourself -->
        <div class="content-section">
            <h2 class="section-heading"><i class="fas fa-question-circle"></i> Check Your Understanding</h2>
            <!-- Recall Questions -->
            <div class="review-questions mb-4">
                <h4 class="recall-title">Key Recall Questions:</h4>
                <ol>
                    <li>What is decomposition?</li>
                    <li>What are modules (in the context of decomposition)?</li>
                    <li>How does the top-down approach use decomposition?</li>
                    <li>Identify one advantage and one disadvantage of decomposition.</li>
                </ol>
            </div>

            <!-- Interactive Quiz -->
            <button class="quiz-btn" id="quiz-btn" aria-expanded="false" aria-controls="quiz">Take Quiz</button>

            <div class="quiz-container" id="quiz" style="display: none;">
                {/* Quiz Question 1 */}
                <div class="quiz-question">
                    <h4>Question 1: What is the primary goal of decomposition?</h4>
                    <ul class="quiz-options" role="radiogroup" aria-labelledby="question-title-0">
                        <li class="quiz-option" role="radio" aria-checked="false" tabindex="0">To find patterns in data</li>
                        <li class="quiz-option" data-correct="true" role="radio" aria-checked="false" tabindex="0">To break a complex problem into smaller, manageable parts</li>
                        <li class="quiz-option" role="radio" aria-checked="false" tabindex="0">To write code faster</li>
                        <li class="quiz-option" role="radio" aria-checked="false" tabindex="0">To ignore unimportant details</li>
                    </ul>
                    <h4 style="display:none;" id="question-title-0">Question 1: What is the primary goal of decomposition?</h4>
                </div>
                {/* Quiz Question 2 */}
                <div class="quiz-question">
                    <h4>Question 2: Which of these is an advantage of using decomposition?</h4>
                    <ul class="quiz-options" role="radiogroup" aria-labelledby="question-title-1">
                        <li class="quiz-option" role="radio" aria-checked="false" tabindex="0">It guarantees the final solution will work perfectly</li>
                        <li class="quiz-option" role="radio" aria-checked="false" tabindex="0">It makes simple problems more complex</li>
                        <li class="quiz-option" data-correct="true" role="radio" aria-checked="false" tabindex="0">Different people can work on different parts simultaneously</li>
                        <li class="quiz-option" role="radio" aria-checked="false" tabindex="0">It requires less planning</li>
                    </ul>
                     <h4 style="display:none;" id="question-title-1">Question 2: Which of these is an advantage of using decomposition?</h4>
                </div>
                {/* Quiz Question 3 */}
                <div class="quiz-question">
                    <h4>Question 3: According to the four steps for coding, what should happen after breaking down the problem into tasks?</h4>
                    <ul class="quiz-options" role="radiogroup" aria-labelledby="question-title-2">
                        <li class="quiz-option" role="radio" aria-checked="false" tabindex="0">Start coding immediately</li>
                        <li class="quiz-option" data-correct="true" role="radio" aria-checked="false" tabindex="0">Describe (document) the tasks and subtasks</li>
                        <li class="quiz-option" role="radio" aria-checked="false" tabindex="0">Combine all the tasks back together</li>
                        <li class="quiz-option" role="radio" aria-checked="false" tabindex="0">Identify the main problem again</li>
                    </ul>
                     <h4 style="display:none;" id="question-title-2">Question 3: According to the four steps for coding, what should happen after breaking down the problem into tasks?</h4>
                </div>
                <div class="quiz-feedback" style="display: none;"></div>
                <button class="quiz-btn mt-3" id="check-answers">Check Answers</button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    {/* Keep the same JavaScript block from 1.1.1.html for interactivity */}
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Collapsible functionality
            const collapsibles = document.querySelectorAll('.collapsible');
            collapsibles.forEach(collapsible => {
                collapsible.addEventListener('click', function() {
                    const content = this.nextElementSibling;
                    const icon = this.querySelector('.rotate-icon');

                    content.classList.toggle('active');
                    if (icon) icon.classList.toggle('active');

                    if (content.classList.contains('active')) {
                        this.setAttribute('aria-expanded', 'true');
                        content.style.maxHeight = content.scrollHeight + "px";
                    } else {
                        this.setAttribute('aria-expanded', 'false');
                        content.style.maxHeight = null;
                    }
                });
                const content = collapsible.nextElementSibling;
                collapsible.setAttribute('aria-expanded', content.classList.contains('active') ? 'true' : 'false');
                const contentId = 'collapsible-content-' + Math.random().toString(36).substring(2, 9);
                collapsible.setAttribute('aria-controls', contentId);
                content.id = contentId;
                if (content.classList.contains('active')) {
                    content.style.maxHeight = content.scrollHeight + "px";
                }
            });

            // Particle creation (Optional)
            function createParticles() {
                const particlesContainer = document.querySelector('.particles');
                if (!particlesContainer || particlesContainer.children.length > 0 || getComputedStyle(particlesContainer).getPropertyValue('--particle-handled-by-css') === 'true') return;
                const particleCount = window.innerWidth < 768 ? 15 : 30;
                for(let i = 0; i < particleCount; i++) {
                    const p = document.createElement('div');
                    p.style.cssText = `position:absolute; width: 2px; height: 2px; background: rgba(255,255,255,0.5); border-radius: 50%; top:${Math.random()*100}%; left:${Math.random()*100}%;`;
                    p.classList.add('particle-item');
                    particlesContainer.appendChild(p);
                }
            }
            // createParticles(); // Uncomment if needed

            // Tooltip functionality
            document.querySelectorAll('.key-term').forEach(term => {
                const tooltip = term.querySelector('.tooltip-box');
                if (tooltip) {
                    term.addEventListener('mouseenter', () => { tooltip.style.display = 'block'; });
                    term.addEventListener('mouseleave', () => { tooltip.style.display = 'none'; });
                    term.setAttribute('tabindex', '0');
                    term.addEventListener('focus', () => { tooltip.style.display = 'block'; });
                    term.addEventListener('blur', () => { tooltip.style.display = 'none'; });
                    term.addEventListener('keydown', (e) => {
                        if (e.key === 'Enter' || e.key === ' ') {
                            e.preventDefault();
                            tooltip.style.display = (tooltip.style.display === 'block') ? 'none' : 'block';
                        }
                    });
                }
            });

            // --- Quiz Functionality ---
            const quizBtn = document.getElementById('quiz-btn');
            const quizContainer = document.getElementById('quiz');
            const checkAnswersBtn = document.getElementById('check-answers');
            const quizFeedback = document.querySelector('.quiz-feedback');
            const quizQuestions = document.querySelectorAll('.quiz-question');

            if (quizBtn && quizContainer && checkAnswersBtn && quizFeedback && quizQuestions.length > 0) {
                quizBtn.addEventListener('click', () => {
                    const isHidden = quizContainer.style.display === 'none' || quizContainer.style.display === '';
                    quizContainer.style.display = isHidden ? 'block' : 'none';
                    quizBtn.textContent = isHidden ? 'Hide Quiz' : 'Take Quiz';
                    quizBtn.setAttribute('aria-expanded', isHidden ? 'true' : 'false');
                    // Reset feedback and selections when showing quiz
                    if (isHidden) {
                         quizFeedback.style.display = 'none';
                         quizFeedback.innerHTML = ''; // Clear previous feedback text
                         quizQuestions.forEach(question => {
                             question.querySelectorAll('.quiz-option').forEach(opt => {
                                 opt.classList.remove('correct', 'incorrect', 'selected');
                                 opt.setAttribute('aria-checked', 'false');
                             });
                         });
                    }
                });

                document.querySelectorAll('.quiz-option').forEach(option => {
                    option.addEventListener('click', function() {
                        // Deselect siblings
                        this.parentElement.querySelectorAll('.quiz-option').forEach(opt => {
                            opt.classList.remove('selected');
                            opt.setAttribute('aria-checked', 'false');
                        });
                        // Select clicked option
                        this.classList.add('selected');
                        this.setAttribute('aria-checked', 'true');
                         // Hide feedback immediately when a new answer is selected after checking
                         if (quizFeedback.style.display === 'block') {
                            quizFeedback.style.display = 'none';
                         }
                    });
                    // Add keydown for space/enter selection
                    option.addEventListener('keydown', (e) => {
                        if (e.key === 'Enter' || e.key === ' ') {
                            e.preventDefault();
                            option.click(); // Trigger the click handler
                        }
                    });
                });

                checkAnswersBtn.addEventListener('click', () => {
                    let correct = 0;
                    const total = quizQuestions.length;
                    let allAnswered = true;

                    quizQuestions.forEach(question => {
                        const selectedOption = question.querySelector('.quiz-option.selected');
                        if (!selectedOption) {
                            allAnswered = false;
                        }

                        // Reset visual state before applying new one
                        question.querySelectorAll('.quiz-option').forEach(opt => {
                            opt.classList.remove('correct', 'incorrect');
                        });

                        // Mark answers
                        question.querySelectorAll('.quiz-option').forEach(opt => {
                            if (opt.dataset.correct === 'true') {
                                opt.classList.add('correct'); // Always show the correct one
                            }
                            if (opt.classList.contains('selected') && opt.dataset.correct !== 'true') {
                                opt.classList.add('incorrect'); // Mark selected incorrect answer
                            }
                        });

                        if (selectedOption && selectedOption.dataset.correct === 'true') {
                            correct++;
                        }
                    });

                    quizFeedback.style.display = 'block'; // Show feedback area

                    if (!allAnswered) {
                         quizFeedback.style.background = 'rgba(255, 193, 7, 0.2)'; // Warning yellow
                         quizFeedback.style.color = '#ffc107';
                         quizFeedback.innerHTML = 'Please answer all questions before checking.';
                         return; // Stop processing further
                    }

                    // Display score and feedback message
                    const isPerfect = correct === total;
                    const isGood = correct >= Math.ceil(total / 2) && !isPerfect;

                    quizFeedback.style.background = isPerfect ? 'rgba(16, 185, 129, 0.2)' : // Green
                                                    isGood ? 'rgba(99, 102, 241, 0.2)' :    // Blue/Indigo
                                                    'rgba(239, 68, 68, 0.2)';      // Red
                    quizFeedback.style.color = isPerfect ? '#10B981' :
                                                isGood ? 'var(--accent-1)' :
                                                '#EF4444';

                    quizFeedback.innerHTML = `Score: ${correct}/${total}. ${
                        isPerfect ? 'Excellent!' :
                        isGood ? 'Good job!' : 'Keep practicing!'
                    }`;
                });
            }
            // --- End Quiz Functionality ---

        });
    </script>
</body>
</html>
