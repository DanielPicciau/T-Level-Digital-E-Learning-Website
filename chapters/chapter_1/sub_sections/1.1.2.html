<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1.1.2 Decomposing Problems | T-Level Study Guide</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700&family=Space+Grotesk:wght@300;400;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link href="../../../css/sub_sections.css" rel="stylesheet">
    <style>
        /* Simple styles for code example - ideally move to sub_sections.css */
        .code-example {
            background-color: rgba(0, 0, 0, 0.3);
            border-left: 4px solid var(--accent-1);
            padding: 15px;
            border-radius: 4px;
            font-family: 'Space Grotesk', monospace; /* Use monospace font */
            white-space: pre-wrap; /* Allow wrapping */
            word-wrap: break-word;
            color: #eee; /* Light text for dark background */
        }
        .code-example .syntax-keyword { color: #569cd6; } /* Example keyword color */
        .code-example .syntax-function { color: #dcdcaa; } /* Example function color */
        .code-example .syntax-comment { color: #6a9955; font-style: italic; } /* Example comment color */
        .code-example .syntax-string { color: #ce9178; } /* Example string color */
        .code-example .syntax-number { color: #b5cea8; } /* Example number color */

        .insight-box {
            background-color: rgba(var(--accent-2-rgb), 0.1); /* Use accent color with transparency */
            border: 1px solid var(--accent-2);
            padding: 15px;
            border-radius: 5px;
            margin-top: 20px;
        }
        .insight-box h5 {
            color: var(--accent-2);
            margin-bottom: 10px;
        }
        /* Style for accordion to match theme */
        .accordion-button {
             background-color: rgba(var(--accent-1-rgb), 0.2);
             color: white;
             font-weight: bold;
        }
        .accordion-button:not(.collapsed) {
             background-color: rgba(var(--accent-1-rgb), 0.4);
             color: white;
        }
        .accordion-button:focus {
            box-shadow: 0 0 0 0.25rem rgba(var(--accent-1-rgb), 0.5);
        }
        .accordion-body {
            background-color: rgba(0,0,0, 0.1); /* Slightly darker background for body */
        }
        .accordion-item {
            border: 1px solid rgba(var(--accent-1-rgb), 0.3);
        }

        .strong{
            color: white;
        }
    </style>
</head>
<body>
    <!-- Background Elements -->
    <div class="universe-background">
        <div class="stars"></div>
        <div class="particles"></div>
    </div>

    <div class="container-fluid chapter-container">
        <a href="../chapter1.html" class="back-btn">
            <i class="fas fa-arrow-left"></i> Back to Chapter 1
        </a>

        <div class="chapter-header">
            <h1 class="chapter-title">1.1.2 Decomposing Problems</h1>
        </div>

        <!-- Introduction to Decomposition -->
        <div class="content-section">
            <h2 class="section-heading"><i class="fas fa-puzzle-piece"></i> What is Decomposition?</h2>
            <p><span class="key-term">Decomposition<span class="tooltip-box">Breaking down a complex problem or system into smaller, more manageable parts.</span></span> is a core technique used in computational thinking. It's about taking a large, complex problem and breaking it down into smaller, simpler sub-problems.</p>
            <p>Computational thinking relies on four key techniques, often called pillars:</p>
            <ul>
                <li><i class="fas fa-puzzle-piece me-2 text-primary"></i><strong>Decomposition:</strong> Breaking things down.</li>
                <li><i class="fas fa-search me-2 text-info"></i><strong>Pattern Recognition:</strong> Finding similarities.</li>
                <li><i class="fas fa-filter me-2 text-warning"></i><strong>Abstraction:</strong> Focusing on important details.</li>
                <li><i class="fas fa-list-ol me-2 text-success"></i><strong>Algorithms:</strong> Creating step-by-step solutions.</li>
            </ul>
             <p>By breaking a problem down, each smaller part becomes easier to understand, manage, and eventually solve.</p>

             <div class="insight-box">
                 <h5><i class="fas fa-lightbulb me-2"></i>Real-World Insight</h5>
                 <p>Think about building a large application like a social media platform. Developers don't try to build the whole thing at once! They decompose it into modules like user authentication, news feed generation, messaging, profile management, etc. Each module can then be developed and tested more easily.</p>
             </div>
        </div>

        <!-- Link to Top-Down Approach -->
        <div class="content-section">
            <h2 class="section-heading"><i class="fas fa-sitemap"></i> Decomposition and the Top-Down Approach</h2>
            <p>As discussed in section <a href="1.1.1.html" class="internal-link">1.1.1 Problem Solving Approaches</a>, the <span class="key-term">Top-Down<span class="tooltip-box">A problem-solving approach starting with the overall problem and breaking it down into smaller parts.</span></span> strategy heavily relies on decomposition.</p>
            <p>You start with the main problem and keep breaking it down into smaller tasks or <span class="key-term">modules<span class="tooltip-box">Self-contained units or components of a larger system, often resulting from decomposition.</span></span> until you can't break them down any further. Ideally, when decomposition is finished, each small piece (sub-problem) can be tackled independently.</p>
            <p>Once these individual modules are created (e.g., coded), they are combined (integrated) to form the solution to the original, larger problem.</p>
        </div>

        <!-- Advantages and Disadvantages -->
        <div class="content-section">
            <h2 class="section-heading"><i class="fas fa-balance-scale"></i> Pros and Cons of Decomposition</h2>
            <div class="row g-4">
                <!-- Advantages Column -->
                <div class="col-md-6 d-flex">
                    <div class="pros-cons-card w-100">
                        <h4 class="pros-title"><i class="fas fa-thumbs-up me-2"></i> Advantages</h4>
                        <ul>
                            <li><strong>Teamwork:</strong> Different people can work on separate modules simultaneously.</li>
                            <li><strong>Easier Maintenance:</strong> Updates/fixes can target specific modules.</li>
                            <li><strong>Manageability:</strong> Makes complex problems less daunting.</li>
                            <li><strong>Reusability:</strong> Well-defined modules can be used elsewhere.</li>
                            <li><strong>Testing:</strong> Easier to test smaller, individual modules.</li>
                        </ul>
                    </div>
                </div>
                <!-- Disadvantages Column -->
                <div class="col-md-6 d-flex">
                     <div class="pros-cons-card w-100">
                        <h4 class="cons-title"><i class="fas fa-thumbs-down me-2"></i> Disadvantages</h4>
                        <ul>
                            <li><strong>Integration Challenges:</strong> Modules might not fit together correctly.</li>
                            <li><strong>Misunderstanding the Problem:</strong> Incorrect decomposition if the initial problem isn't fully grasped.</li>
                            <li><strong>Design Overhead:</strong> Defining clear interfaces between modules takes effort.</li>
                            <li><strong>Potential for Redundancy:</strong> Similar logic might appear in different modules if not carefully managed.</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Interactive Four Steps of Decomposition -->
        <div class="content-section">
            <h2 class="section-heading"><i class="fas fa-list-ol"></i> Four Steps of Decomposition</h2>
            <p>When breaking down a problem for coding, these steps help guide the process. Click each step to learn more:</p>
            <div class="accordion" id="decompositionStepsAccordion">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingOne">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne" aria-expanded="false" aria-controls="collapseOne">
                            <strong>Step 1:</strong> Identify and Describe Problems/Processes
                        </button>
                    </h2>
                    <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne" data-bs-parent="#decompositionStepsAccordion">
                        <div class="accordion-body">
                            <p>Clearly define what the problem is and what processes are involved. Use language specific to the problem's context (e.g., retail terms for a shop system, physics terms for a simulation).</p>
                            <p><em>Example: Problem is "Calculate total cost for items in a shopping basket". Processes involve getting item prices, quantities, applying discounts, and summing up.</em></p>
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingTwo">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
                            <strong>Step 2:</strong> Break Down into Separate Tasks
                        </button>
                    </h2>
                    <div id="collapseTwo" class="accordion-collapse collapse" aria-labelledby="headingTwo" data-bs-parent="#decompositionStepsAccordion">
                        <div class="accordion-body">
                            <p>Use decomposition (often top-down) to split the main problem into smaller, distinct tasks and subtasks. Keep breaking down until each task is simple and focused. Ensure all tasks directly contribute to solving the original problem.</p>
                            <p><em>Example: Break down "Calculate total cost" into: 1. Get item details (price, quantity). 2. Calculate subtotal per item. 3. Apply discounts. 4. Calculate final total.</em></p>
                        </div>
                    </div>
                </div>
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingThree">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
                            <strong>Step 3:</strong> Describe Tasks and Subtasks
                        </button>
                    </h2>
                    <div id="collapseThree" class="accordion-collapse collapse" aria-labelledby="headingThree" data-bs-parent="#decompositionStepsAccordion">
                        <div class="accordion-body">
                            <p>Document each task clearly. What does it do? What information does it need (inputs)? What result does it produce (outputs)? This documentation helps developers implement the solution correctly.</p>
                            <p><em>Example: Document "Apply discounts": Needs item price and discount rules as input. Outputs the discounted price.</em></p>
                        </div>
                    </div>
                </div>
                 <div class="accordion-item">
                    <h2 class="accordion-header" id="headingFour">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseFour" aria-expanded="false" aria-controls="collapseFour">
                            <strong>Step 4:</strong> Communicate
                        </button>
                    </h2>
                    <div id="collapseFour" class="accordion-collapse collapse" aria-labelledby="headingFour" data-bs-parent="#decompositionStepsAccordion">
                        <div class="accordion-body">
                            <p>Share the decomposed structure and task descriptions with the team. Assign responsibility for different modules. Clear communication ensures everyone understands their part and how it fits into the whole solution before combining the modules.</p>
                             <p><em>Example: Team member A takes the "Get item details" module, Team member B takes "Apply discounts", etc. Regular check-ins ensure compatibility.</em></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Code Example Section -->
        <div class="content-section">
            <h2 class="section-heading"><i class="fas fa-code"></i> Decomposition in Code (Example)</h2>
            <p>Decomposition often translates into creating separate functions or methods in code. Consider calculating the area and perimeter of a rectangle:</p>
            <pre class="code-example"><code><span class="syntax-comment"># --- Without Decomposition ---</span>
<span class="syntax-keyword">def</span> <span class="syntax-function">process_rectangle</span>(length, width):
    area = length * width
    perimeter = <span class="syntax-number">2</span> * (length + width)
    <span class="syntax-keyword">print</span>(<span class="syntax-string">f"Area: {area}"</span>)
    <span class="syntax-keyword">print</span>(<span class="syntax-string">f"Perimeter: {perimeter}"</span>)

<span class="syntax-function">process_rectangle</span>(<span class="syntax-number">10</span>, <span class="syntax-number">5</span>)

<span class="syntax-comment"># --- With Decomposition ---</span>
<span class="syntax-keyword">def</span> <span class="syntax-function">calculate_area</span>(length, width):
    <span class="syntax-keyword">return</span> length * width

<span class="syntax-keyword">def</span> <span class="syntax-function">calculate_perimeter</span>(length, width):
    <span class="syntax-keyword">return</span> <span class="syntax-number">2</span> * (length + width)

<span class="syntax-keyword">def</span> <span class="syntax-function">display_results</span>(area, perimeter):
    <span class="syntax-keyword">print</span>(<span class="syntax-string">f"Calculated Area: {area}"</span>)
    <span class="syntax-keyword">print</span>(<span class="syntax-string">f"Calculated Perimeter: {perimeter}"</span>)

<span class="syntax-comment"># Main part uses the decomposed functions</span>
rect_length = <span class="syntax-number">10</span>
rect_width = <span class="syntax-number">5</span>
rect_area = <span class="syntax-function">calculate_area</span>(rect_length, rect_width)
rect_perimeter = <span class="syntax-function">calculate_perimeter</span>(rect_length, rect_width)
<span class="syntax-function">display_results</span>(rect_area, rect_perimeter)</code></pre>
            <p>The decomposed version separates concerns: one function calculates area, another calculates perimeter, and a third displays results. This makes the code easier to read, test, and reuse.</p>
        </div>


        <!-- Enhanced Activity Section -->
        <!-- <div class="content-section">
             <h2 class="section-heading"><i class="fas fa-map-signs"></i> Activity: Plan a Trip (Interactive)</h2>
             <div class="activity-card">
                 <h3 class="activity-title">Bletchley Park Trip Planning</h3>
                 <p><strong>Scenario:</strong> Plan a group trip to Bletchley Park for your class.</p>
                 <p><strong>Task:</strong> Use <span class="key-term">decomposition<span class="tooltip-box">Breaking down the complex task of planning a trip into smaller, manageable sub-tasks.</span></span> to break down the overall task "Plan a trip to Bletchley Park" into smaller tasks and subtasks. Use the text area below to outline your plan.</p>

                 <div class="mb-3">
                     <label for="tripPlanTextarea" class="form-label">Your Decomposed Trip Plan:</label>
                     <textarea class="form-control" id="tripPlanTextarea" rows="8" placeholder="Example:&#10;1. Pre-Trip Planning&#10;   1.1 Define Objectives (Educational goals, budget)&#10;   1.2 Set Date & Time&#10;   1.3 Get Approvals (School, Parents)&#10;2. Logistics&#10;   2.1 Booking Tickets&#10;   2.2 Arranging Transport&#10;      2.2.1 Get Quotes (Coach, Train)&#10;      2.2.2 Book Transport&#10;   2.3 Food Arrangements...&#10;..."></textarea>
                 </div>
                 <button class="btn btn-secondary" id="savePlanBtn"><i class="fas fa-save me-2"></i>Save Plan Locally</button>
                 <span id="saveStatus" class="ms-2" style="font-style: italic; opacity: 0;"></span>


                 <p class="mt-4"><strong>Presentation & Reflection:</strong></p>
                 <ul>
                     <li>Present your plan (you can use your saved text).</li>
                     <li>Discuss: Was everything included? What was missed? What's the impact of missing tasks?</li>
                 </ul>
                 <div class="text-center mt-3">
                    <i class="fas fa-users fa-2x text-info"></i> <i class="fas fa-arrow-right fa-lg mx-2"></i> <i class="fas fa-clipboard-list fa-2x text-success"></i>
                    <p><small>Group Work leading to a Decomposed Plan</small></p>
                 </div>
             </div>
        </div> -->

        <!-- Concluding Thought -->
        <div class="content-section">
             <h2 class="section-heading"><i class="fas fa-link"></i> Connecting the Pillars</h2>
             <p>Decomposition is often the first step in computational thinking. Once a problem is broken down:</p>
             <ul>
                 <li>You can look for <span class="key-term">patterns<span class="tooltip-box">Identifying similarities or repeated processes within or between the decomposed parts.</span></span> across the smaller sub-problems.</li>
                 <li>You can use <span class="key-term">abstraction<span class="tooltip-box">Focusing on the essential features of the sub-problems while ignoring irrelevant details.</span></span> to focus on what's important in each part.</li>
                 <li>You can then design specific <span class="key-term">algorithms<span class="tooltip-box">Creating step-by-step instructions to solve each of the smaller, well-defined sub-problems.</span></span> to solve each sub-problem.</li>
             </ul>
             <p>These techniques work together to tackle complexity effectively.</p>
        </div>


        <!-- Test Yourself Section (Recall + Quiz) -->
        <div class="content-section">
            <h2 class="section-heading"><i class="fas fa-question-circle"></i> Check Your Understanding</h2>
            <!-- Recall Questions -->
            <div class="review-questions mb-4">
                <h4 class="recall-title">Key Recall Questions:</h4>
                <ol>
                    <li>What is decomposition?</li>
                    <li>What are modules (in the context of decomposition)?</li>
                    <li>How does the top-down approach use decomposition?</li>
                    <li>Identify one advantage and one disadvantage of decomposition.</li>
                </ol>
            </div>

            <!-- Interactive Quiz -->
            <button class="quiz-btn" id="quiz-btn" aria-expanded="false" aria-controls="quiz">Take Quiz</button>

            <div class="quiz-container" id="quiz" style="display: none;">
                {/* Quiz Questions remain the same as previous version */}
                <div class="quiz-question">
                    <h4>Question 1: What is the primary goal of decomposition?</h4>
                    <ul class="quiz-options" role="radiogroup" aria-labelledby="question-title-0">
                        <li class="quiz-option" role="radio" aria-checked="false" tabindex="0">To find patterns in data</li>
                        <li class="quiz-option" data-correct="true" role="radio" aria-checked="false" tabindex="0">To break a complex problem into smaller, manageable parts</li>
                        <li class="quiz-option" role="radio" aria-checked="false" tabindex="0">To write code faster</li>
                        <li class="quiz-option" role="radio" aria-checked="false" tabindex="0">To ignore unimportant details</li>
                    </ul>
                    <h4 style="display:none;" id="question-title-0">Question 1: What is the primary goal of decomposition?</h4>
                </div>
                <div class="quiz-question">
                    <h4>Question 2: Which of these is an advantage of using decomposition?</h4>
                    <ul class="quiz-options" role="radiogroup" aria-labelledby="question-title-1">
                        <li class="quiz-option" role="radio" aria-checked="false" tabindex="0">It guarantees the final solution will work perfectly</li>
                        <li class="quiz-option" role="radio" aria-checked="false" tabindex="0">It makes simple problems more complex</li>
                        <li class="quiz-option" data-correct="true" role="radio" aria-checked="false" tabindex="0">Different people can work on different parts simultaneously</li>
                        <li class="quiz-option" role="radio" aria-checked="false" tabindex="0">It requires less planning</li>
                    </ul>
                     <h4 style="display:none;" id="question-title-1">Question 2: Which of these is an advantage of using decomposition?</h4>
                </div>
                <div class="quiz-question">
                    <h4>Question 3: According to the four steps for coding, what should happen after breaking down the problem into tasks?</h4>
                    <ul class="quiz-options" role="radiogroup" aria-labelledby="question-title-2">
                        <li class="quiz-option" role="radio" aria-checked="false" tabindex="0">Start coding immediately</li>
                        <li class="quiz-option" data-correct="true" role="radio" aria-checked="false" tabindex="0">Describe (document) the tasks and subtasks</li>
                        <li class="quiz-option" role="radio" aria-checked="false" tabindex="0">Combine all the tasks back together</li>
                        <li class="quiz-option" role="radio" aria-checked="false" tabindex="0">Identify the main problem again</li>
                    </ul>
                     <h4 style="display:none;" id="question-title-2">Question 3: According to the four steps for coding, what should happen after breaking down the problem into tasks?</h4>
                </div>
                <div class="quiz-feedback" style="display: none;"></div>
                <button class="quiz-btn mt-3" id="check-answers">Check Answers</button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    {/* Updated JavaScript block */}
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // --- Existing Functionality (Collapsible, Particles, Tooltips, Quiz) ---
            // Collapsible functionality (if any non-accordion collapsibles exist)
            // ... (keep the collapsible code from previous version if needed) ...

            // Particle creation (Optional)
            // ... (keep particle code) ...

            // Tooltip functionality
            // ... (keep tooltip code) ...

            // Quiz Functionality
            // ... (keep quiz code from previous version) ...


            // --- NEW Functionality for 1.1.2 ---

            // Enhanced Activity - Local Storage for Trip Plan
            const tripPlanTextarea = document.getElementById('tripPlanTextarea');
            const savePlanBtn = document.getElementById('savePlanBtn');
            const saveStatus = document.getElementById('saveStatus');

            if (tripPlanTextarea && savePlanBtn && saveStatus) {
                // Load saved plan on page load
                const savedPlan = localStorage.getItem('tripPlanDecomposition');
                if (savedPlan) {
                    tripPlanTextarea.value = savedPlan;
                }

                // Save plan to local storage on button click
                savePlanBtn.addEventListener('click', () => {
                    localStorage.setItem('tripPlanDecomposition', tripPlanTextarea.value);
                    saveStatus.textContent = 'Plan saved!';
                    saveStatus.style.opacity = '1';
                    // Fade out the message after a few seconds
                    setTimeout(() => {
                        saveStatus.style.opacity = '0';
                    }, 2000);
                });
            }

            // Note: Bootstrap's Accordion functionality is handled automatically
            // by including the Bootstrap JS bundle, provided the HTML structure
            // (data-bs-toggle, data-bs-target, etc.) is correct.

            // --- End NEW Functionality ---
        });
    </script>
</body>
</html>
